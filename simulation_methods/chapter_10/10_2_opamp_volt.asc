Version 4
SHEET 1 1604 1028
WIRE -432 -64 -640 -64
WIRE -112 -64 -432 -64
WIRE -112 -48 -112 -64
WIRE -432 16 -432 -64
WIRE -304 16 -432 16
WIRE 688 32 688 0
WIRE 688 32 656 32
WIRE 800 32 800 0
WIRE 800 32 688 32
WIRE 688 48 688 32
WIRE -432 64 -432 16
WIRE -112 64 -112 32
WIRE 16 64 -112 64
WIRE -112 80 -112 64
WIRE -640 144 -640 -64
WIRE -112 176 -112 160
WIRE 16 176 -112 176
WIRE -432 208 -432 144
WIRE -304 208 -432 208
WIRE -112 224 -112 176
WIRE -432 256 -432 208
WIRE -640 352 -640 224
WIRE -432 352 -432 336
WIRE -432 352 -640 352
WIRE -112 368 -112 304
WIRE -432 400 -432 352
WIRE -400 640 -432 640
WIRE -272 640 -320 640
WIRE 480 640 432 640
WIRE 608 640 560 640
WIRE -592 736 -640 736
WIRE -432 736 -432 640
WIRE -432 736 -512 736
WIRE -400 736 -432 736
WIRE 272 736 224 736
WIRE 432 736 432 640
WIRE 432 736 352 736
WIRE 464 736 432 736
WIRE -272 752 -272 640
WIRE -272 752 -336 752
WIRE -224 752 -272 752
WIRE -112 752 -224 752
WIRE -32 752 -112 752
WIRE 608 752 608 640
WIRE 608 752 528 752
WIRE 640 752 608 752
WIRE 768 752 640 752
WIRE 832 752 768 752
WIRE -400 768 -416 768
WIRE 464 768 448 768
WIRE 640 800 640 752
WIRE 768 800 768 752
WIRE -224 832 -224 752
WIRE -112 832 -112 752
WIRE -592 848 -640 848
WIRE -416 848 -416 768
WIRE -416 848 -512 848
WIRE 272 848 224 848
WIRE 448 848 448 768
WIRE 448 848 352 848
WIRE -416 880 -416 848
WIRE 448 880 448 848
WIRE 640 912 640 880
WIRE 768 912 768 864
FLAG -112 368 0
FLAG 16 64 Vvolt+
FLAG 448 960 0
FLAG 640 912 0
FLAG 768 912 0
FLAG 832 752 Vvoltout
FLAG 16 176 Vvolt-
FLAG 224 736 Vvolt-
FLAG 224 848 Vvolt+
FLAG 656 32 0
FLAG 688 -80 Vcc
FLAG 688 128 Vee
FLAG 800 -80 Vcc+5
FLAG -432 400 0
FLAG -304 16 Vsh+
FLAG -304 208 Vsh-
FLAG -640 848 Vsh+
FLAG -640 736 Vsh-
FLAG -416 960 0
FLAG -224 912 0
FLAG -112 896 0
FLAG -32 752 Vcurrout
SYMBOL voltage -640 128 R0
WINDOW 3 -60 -156 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 200 0.5u 10n 10n 5u 10u 10)
SYMATTR InstName V1
SYMBOL res -128 64 R0
SYMATTR InstName R7
SYMATTR Value 1.2k
SYMBOL res -128 208 R0
SYMATTR InstName R8
SYMATTR Value 50k
SYMBOL OpAmps\\opamp 496 688 R0
SYMATTR InstName U1
SYMBOL res 368 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 6k
SYMBOL res 368 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 6k
SYMBOL res 464 976 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 12k
SYMBOL res 464 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 12k
SYMBOL res 624 784 R0
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL cap 752 800 R0
SYMATTR InstName C1
SYMATTR Value 15p
SYMBOL res -128 -64 R0
SYMATTR InstName R6
SYMATTR Value 50k
SYMBOL voltage 688 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 688 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage 800 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res -448 48 R0
SYMATTR InstName Rshunt1
SYMATTR Value 10m
SYMBOL res -448 240 R0
SYMATTR InstName Rload1
SYMATTR Value 5
SYMBOL OpAmps\\opamp -368 688 R0
SYMATTR InstName U2
SYMBOL res -496 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res -496 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -400 976 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 30k
SYMBOL res -416 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 30k
SYMBOL res -240 816 R0
SYMATTR InstName R13
SYMATTR Value 1Meg
SYMBOL cap -128 832 R0
SYMATTR InstName C2
SYMATTR Value 15p
TEXT 176 -32 Left 2 !.lib opamp.sub
TEXT 176 -64 Left 2 !.tran 0 20u 0 0.1n uic
TEXT 632 688 Left 2 ;Gain = 2
TEXT 120 240 Left 2 ;Change the value of V7 from 100V up to 200V\nand change R4 from 3k to 1.2 --> differential gain is the same\nbut common mide exceeds the limits. Observe the output of U1.
TEXT -224 688 Left 2 ;Gain = 3
TEXT -624 440 Left 2 ;Change load current with Rload
TEXT -480 568 Left 2 ;Current measurement
TEXT 368 576 Left 2 ;Voltage measurement
RECTANGLE Normal 864 -160 592 192 2
RECTANGLE Normal 80 544 -720 992 2
RECTANGLE Normal 944 544 144 992 2
